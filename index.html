<!DOCTYPE html>
<html lang="es">
<head>

<meta charset="UTF-8">
<title>Para tÃ­ ğŸ’–</title>
    <!-- selelcionar estilo  -->
<link rel="stylesheet" href="estilos.css">

<style>
body{
    margin:0;
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    text-align:center;
    font-family:Arial;
    color:white;
    overflow:hidden;
    transition:background 1s;
}

.fondo1{ background:linear-gradient(135deg,#ff758c,#ff7eb3,#ffb199); }
.fondo2{ background:linear-gradient(135deg,#ff4e50,#ff9966); }
.fondo3{ background:linear-gradient(135deg,#8e2de2,#4a00e0); }
.fondo4{ background:linear-gradient(135deg,#141e30,#243b55); }

.container{
    padding:40px;
    border-radius:25px;
    backdrop-filter:blur(15px);
    background:rgba(255,255,255,0.15);
    border:3px solid white;
    box-shadow:0 0 30px rgba(0,0,0,0.4);
    animation: aparecer 0.8s ease;
    z-index:2;
    position:relative;
}

@keyframes aparecer{
    from{opacity:0; transform:scale(0.8);}
    to{opacity:1; transform:scale(1);}
}

button{
    padding:12px 25px;
    margin:15px;
    font-size:18px;
    border:none;
    border-radius:25px;
    cursor:pointer;
    font-weight:bold;
    transition:0.3s;
}

button:hover{ transform:scale(1.2); }

.hidden{ display:none; }

img{
    width:200px;
    margin:20px 0;
    border-radius:20px;
}

.sparkle{
    position:absolute;
    font-size:20px;
    animation: subir 2s linear forwards;
    pointer-events:none;
}

@keyframes subir{
    0%{ opacity:1; transform:translateY(0); }
    100%{ opacity:0; transform:translateY(-150px); }
}

h1,h2,p{
    text-shadow:0 0 15px rgba(0,0,0,0.6);
}
</style>
</head>

<body class="fondo1" onclick="siguientePantalla()">

<!-- PORTADA -->
<div class="container" id="portada">
    <img src="image5.jpg">
    <h1>ğŸ’• Â¡Hola ğŸ¤— tengo algo para ti! ğŸ’•</h1>
    <p>âœ¨ Toca la pantallita âœ¨</p>
</div>

<!-- SAN VALENTÃN -->
<div class="container hidden" id="sanValentin">
    <img src="image1.jpg">
    <h2>ğŸŒ¹ Â¿Quieres ser mi san valentin Princesa? ğŸ’˜</h2>
    <p id="mensajeNo" style="font-weight:bold;"></p>
    <button onclick="sanValentinSi(event)">SÃ­ ğŸ’–</button>
    <button id="noBtn" onclick="moverNo(event)">No ğŸ˜…</button>
</div>

<!-- MENSAJE AMOR -->
<div class="container hidden" id="mensajeAmor">
    <img src="image2.jpg">
    <h2>
    ğŸ’• Gracias por llenar mi vida de colores ğŸ’•<br><br>
    ğŸ‘‘ Eres y serÃ¡s siempre la princesa de mi vida ğŸ‘‘<br><br>
    ğŸ’– Te amo mucho ğŸ’–
    </h2>
    <p>âœ¨ Toca la pantalla una vez mÃ¡s âœ¨</p>
</div>

<!-- PREGUNTA NOVIA -->
<div class="container hidden" id="novia">
    <img src="image4.jpg">
    <h2>ğŸ’ Â¿Quieres ser mi novia? ğŸ’</h2>
    <button onclick="respuestaSi(event)">SÃ­ ğŸ˜</button>
    <button onclick="respuestaNo(event)">No ğŸ˜³</button>
</div>

<!-- FINAL -->
<div class="container hidden" id="final">
    <img src="image6.jpg">
    <h1 id="mensajeFinal"></h1>
</div>

<!-- SUPABASE -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<script>



/* ğŸ”¥ CONFIGURACIÃ“N SUPABASE CORRECTA */
const supabaseClient = supabase.createClient(
  "https://jzflvxtepjbxyixmrsng.supabase.co",
  "sb_publishable_q_rsN4emeC9CD29q-3n4WA_9ned_PNV"
);


async function guardarRespuesta(valor){
    const { data, error } = await supabaseClient
        .from('respues') // cambia si tu tabla se llama diferente
        .insert([{ respuesta: valor }]);

    if(error){
        alert("Error: " + error.message);
        console.log(error);
    } else {
        alert("Se guardÃ³ correctamente ğŸ’–");
        console.log(data);
    }
}


/* LÃ“GICA DE LA PÃGINA */
let paso = 0;
let contadorNo = 0;

const mensajesNo = [
"ğŸ¥º Â¿EstÃ¡s segura? Prometo llevarte chocolates ğŸ«ğŸ’•",
"ğŸ˜¢ PiÃ©nsalo otra vezâ€¦ serÃ­amos muy lindos ğŸ’",
"ğŸ’– No seas malita conmigo, di que sÃ­ ğŸ™ˆ",
"ğŸŒ¹ Te harÃ© la persona mÃ¡s feliz del mundo âœ¨",
"ğŸ‘‘ SerÃ© el mejor San ValentÃ­n para ti ğŸ’•",
"ğŸ‘‘ Te cuidare hoy, maÃ±ana y siempre!!! ğŸ’•",
"ğŸ˜­ Buenoâ€¦ ya no te dejo decir que no ğŸ˜…ğŸ’˜"
];

const coloresBoton = [
"#ff4e50","#ff6a88","#ff758c",
"#ff9966","#f857a6","#ff3e6c"
];

function siguientePantalla(){

    // ğŸµ Reproducir mÃºsica solo la primera vez
    const music = document.getElementById("bgMusic");
    if (music.paused) {
        music.volume = 0.4; // volumen romÃ¡ntico
        music.play();
    }

    if(paso === 0){
        document.getElementById("portada").classList.add("hidden");
        document.getElementById("sanValentin").classList.remove("hidden");
        document.body.classList.replace("fondo1","fondo2");
        paso++;
    } 
    else if(paso === 2){
        document.getElementById("mensajeAmor").classList.add("hidden");
        document.getElementById("novia").classList.remove("hidden");
        document.body.classList.replace("fondo3","fondo4");
        paso++;
    }
}



function moverNo(event){
    event.stopPropagation();
    let btn = document.getElementById("noBtn");

    if(contadorNo < mensajesNo.length){
        document.getElementById("mensajeNo").innerHTML = mensajesNo[contadorNo];
        btn.style.background = coloresBoton[contadorNo];
        btn.style.position="absolute";
        btn.style.left=Math.random()*300+"px";
        btn.style.top=Math.random()*200+"px";
        contadorNo++;
    } else {
        btn.style.display="none";
    }
}
function explosionCorazones() {
    for (let i = 0; i < 60; i++) {

        let heart = document.createElement("div");
        heart.innerHTML = "ğŸ’–";
        heart.style.position = "fixed";
        heart.style.left = "50%";
        heart.style.top = "50%";
        heart.style.fontSize = (Math.random() * 25 + 20) + "px";
        heart.style.pointerEvents = "none";
        heart.style.zIndex = "9999";

        document.body.appendChild(heart);

        let angle = Math.random() * 2 * Math.PI;
        let distance = Math.random() * 300 + 100;

        let x = Math.cos(angle) * distance;
        let y = Math.sin(angle) * distance;

        heart.animate([
            { transform: "translate(0,0)", opacity: 1 },
            { transform: `translate(${x}px, ${y}px)`, opacity: 0 }
        ], {
            duration: 1200,
            easing: "ease-out"
        });

        setTimeout(() => heart.remove(), 1200);
    }
}

function explosionCorazonesPotente() {
    for (let i = 0; i < 80; i++) {

        let heart = document.createElement("div");
        heart.innerHTML = Math.random() > 0.5 ? "ğŸ’–" : "âœ¨";
        heart.style.position = "fixed";
        heart.style.left = "50%";
        heart.style.top = "50%";
        heart.style.fontSize = (Math.random() * 30 + 20) + "px";
        heart.style.pointerEvents = "none";
        heart.style.zIndex = "9999";

        document.body.appendChild(heart);

        let angle = Math.random() * 2 * Math.PI;
        let distance = Math.random() * 400 + 150;

        let x = Math.cos(angle) * distance;
        let y = Math.sin(angle) * distance;

        heart.animate([
            { transform: "translate(0,0) scale(1)", opacity: 1 },
            { transform: `translate(${x}px, ${y}px) scale(0.5)`, opacity: 0 }
        ], {
            duration: 1500,
            easing: "ease-out"
        });

        setTimeout(() => heart.remove(), 1500);
    }
}
function fiesta30Segundos() {

    let intervalo = setInterval(() => {
        explosionCorazonesPotente();
    }, 500); // explosiÃ³n cada 0.5 segundos

    setTimeout(() => {
        clearInterval(intervalo);
    }, 30000); // detener despuÃ©s de 30 segundos
}

function sanValentinSi(event){
    event.stopPropagation();
    guardarRespuesta("SI - AceptÃ³ San ValentÃ­n ğŸ’–");
    explosionCorazones();
    document.getElementById("sanValentin").classList.add("hidden");
    document.getElementById("mensajeAmor").classList.remove("hidden");
    document.body.classList.replace("fondo2","fondo3");
    paso=2;
}

function respuestaSi(event){
    event.stopPropagation();
    guardarRespuesta("SI - Quiere ser mi novia ğŸ’–");
    fiesta30Segundos();

    document.getElementById("novia").classList.add("hidden");
    document.getElementById("final").classList.remove("hidden");

    document.getElementById("mensajeFinal").innerHTML = `
        <div class="card-amor">
            <img src="img1.png" class="img-amor">

            <h1 class="titulo-amor">ğŸ’– Te Amoo ğŸ’–</h1>

            <p>
                Desde que llegaste a mi vida todo tiene mÃ¡s sentido, 
                mÃ¡s colores y mÃ¡s felicidad ğŸŒˆâœ¨
            </p>

            <p>
                Prometo cuidarte, hacerte reÃ­r y acompaÃ±arte siempre ğŸ’•
            </p>

            <p class="destacado">
                Eres mi amor mÃ¡s bonito ğŸ’—
            </p>

            <h2 class="final-amor">
                TE QUIERO CON TODO MI CORAZÃ“N ğŸ‘‘ğŸ’–
            </h2>
        </div>
    `;
}


function respuestaNo(event){
    event.stopPropagation();
    guardarRespuesta("NO - No quiere ser mi novia ğŸ˜¢");
    document.getElementById("novia").classList.add("hidden");
    document.getElementById("final").classList.remove("hidden");
    document.getElementById("mensajeFinal").innerHTML="ğŸ˜Œ Gracias por ser sincera ğŸ’›";
}
</script>
<!-- selelcionar la cancion -->

<audio id="bgMusic" loop>
  <source src="music1.mp3" type="audio/mpeg">
</audio>




</body>
</html>
